!function(){var t,n,e;!function(i){function r(t,n){return b.call(t,n)}function o(t,n){var e,i,r,o,a,s,l,f,u,c,p,d=n&&n.split("/"),h=g.map,m=h&&h["*"]||{};if(t&&"."===t.charAt(0))if(n){for(d=d.slice(0,d.length-1),t=t.split("/"),a=t.length-1,g.nodeIdCompat&&k.test(t[a])&&(t[a]=t[a].replace(k,"")),t=d.concat(t),u=0;u<t.length;u+=1)if(p=t[u],"."===p)t.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||m)&&h){for(e=t.split("/"),u=e.length;u>0;u-=1){if(i=e.slice(0,u).join("/"),d)for(c=d.length;c>0;c-=1)if(r=h[d.slice(0,c).join("/")],r&&(r=r[i])){o=r,s=u;break}if(o)break;!l&&m&&m[i]&&(l=m[i],f=u)}!o&&l&&(o=l,s=f),o&&(e.splice(0,s,o),t=e.join("/"))}return t}function a(t,n){return function(){return d.apply(i,x.call(arguments,0).concat([t,n]))}}function s(t){return function(n){return o(n,t)}}function l(t){return function(n){y[t]=n}}function f(t){if(r(_,t)){var n=_[t];delete _[t],v[t]=!0,p.apply(i,n)}if(!r(y,t)&&!r(v,t))throw new Error("No "+t);return y[t]}function u(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function c(t){return function(){return g&&g.config&&g.config[t]||{}}}var p,d,h,m,y={},_={},g={},v={},b=Object.prototype.hasOwnProperty,x=[].slice,k=/\.js$/;h=function(t,n){var e,i=u(t),r=i[0];return t=i[1],r&&(r=o(r,n),e=f(r)),r?t=e&&e.normalize?e.normalize(t,s(n)):o(t,n):(t=o(t,n),i=u(t),r=i[0],t=i[1],r&&(e=f(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:e}},m={require:function(t){return a(t)},exports:function(t){var n=y[t];return"undefined"!=typeof n?n:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:c(t)}}},p=function(t,n,e,o){var s,u,c,p,d,g,b=[],x=typeof e;if(o=o||t,"undefined"===x||"function"===x){for(n=!n.length&&e.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(p=h(n[d],o),u=p.f,"require"===u)b[d]=m.require(t);else if("exports"===u)b[d]=m.exports(t),g=!0;else if("module"===u)s=b[d]=m.module(t);else if(r(y,u)||r(_,u)||r(v,u))b[d]=f(u);else{if(!p.p)throw new Error(t+" missing "+u);p.p.load(p.n,a(o,!0),l(u),{}),b[d]=y[u]}c=e?e.apply(y[t],b):void 0,t&&(s&&s.exports!==i&&s.exports!==y[t]?y[t]=s.exports:c===i&&g||(y[t]=c))}else t&&(y[t]=e)},t=n=d=function(t,n,e,r,o){if("string"==typeof t)return m[t]?m[t](n):f(h(t,n).f);if(!t.splice){if(g=t,g.deps&&d(g.deps,g.callback),!n)return;n.splice?(t=n,n=e,e=null):t=i}return n=n||function(){},"function"==typeof e&&(e=r,r=o),r?p(i,t,n,e):setTimeout(function(){p(i,t,n,e)},4),d},d.config=function(t){return d(t)},t._defined=y,e=function(t,n,e){n.splice||(e=n,n=[]),r(y,t)||r(_,t)||(_[t]=[t,n,e])},e.amd={jQuery:!0}}(),e("../bower_components/almond/almond",function(){});var i,r=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};i=function(){function t(){}return t.prototype.initialize=function(t){return null==t&&(t={identify:{form_selector:"form",property_map:{username:/.*username.*/,name:/.*name.*/,first_name:/.*first.*name.*/,last_name:/.*last.*name.*/,email:/.*email.*/,position:/.*position.*/,company:/.*company.*/,organization:/.*organi(z|s)ation.*/,industry:/.*industry.*/,location:/.*location.*/,latlng:/.*latl(ng|on).*/,birthday:/.*(birthday|dob|date.*of.*birth).*/},has_any_fields:["username","name","first_name","last_name","email"],has_all_fields:[]}}),this.form_selector=t.identify.form_selector,this.property_map=t.identify.property_map,this.has_any_fields=t.identify.has_any_fields,this.has_all_fields=t.identify.has_all_fields,this.create_hooks()},t.prototype.create_hooks=function(){var t,n,e,i,r;for(t=document.body||document.getElementByTagName("body")[0],t.setAttribute("data-automagic",""),r=document.querySelectorAll(this.form_selector),e=0,i=r.length;i>e;e++)n=r[e],this.hook(n);return this},t.prototype.hook=function(t){var n,e;return e=t.onsubmit,e&&(t.onsubmit=null),n=function(t){var n,i,o,a,s;return a=t.target,o=extract_data(a),n=function(){var t,n,e,i;for(e=this.has_all_fields,i=[],t=0,n=e.length;n>t;t++)s=e[t],r.call(o,s)>=0&&i.push(s);return i}.call(this).size===this.has_all_fields.size,i=function(){var t,n,e,i;for(e=this.has_any_fields,i=[],t=0,n=e.length;n>t;t++)s=e[t],r.call(o,s)>=0&&i.push(s);return i}.call(this).size>=1,n&&i&&(trak&&trak.io&&trak.io.identify(o),e)?e():void 0},window.addEventListener?t.addEventListener("submit",n,!1):window.attachEvent?t.attachEvent("onsubmit",n):void 0},t.prototype.extract_data=function(t){var n,e,i,r,o,a,s,l,f,u;for(n={},f=t.querySelectorAll("input, textarea"),s=0,l=f.length;l>s;s++){e=f[s],r=e.name,a=e.value,u=this.property_map;for(i in u)o=u[i],o.test(r)&&(n[i]=a)}return n},t}(),window.Automagic=i,e("trak.automagic",function(){}),n(["trak.automagic"])}();