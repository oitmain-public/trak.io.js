!function(){var e,t,n;!function(r){function i(e,t){return b.call(e,t)}function o(e,t){var n,r,i,o,a,f,l,u,s,c,p,d=t&&t.split("/"),m=g.map,h=m&&m["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),a=e.length-1,g.nodeIdCompat&&k.test(e[a])&&(e[a]=e[a].replace(k,"")),e=d.concat(e),s=0;s<e.length;s+=1)if(p=e[s],"."===p)e.splice(s,1),s-=1;else if(".."===p){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||h)&&m){for(n=e.split("/"),s=n.length;s>0;s-=1){if(r=n.slice(0,s).join("/"),d)for(c=d.length;c>0;c-=1)if(i=m[d.slice(0,c).join("/")],i&&(i=i[r])){o=i,f=s;break}if(o)break;!l&&h&&h[r]&&(l=h[r],u=s)}!o&&l&&(o=l,f=u),o&&(n.splice(0,f,o),e=n.join("/"))}return e}function a(e,t){return function(){return d.apply(r,x.call(arguments,0).concat([e,t]))}}function f(e){return function(t){return o(t,e)}}function l(e){return function(t){y[e]=t}}function u(e){if(i(_,e)){var t=_[e];delete _[e],v[e]=!0,p.apply(r,t)}if(!i(y,e)&&!i(v,e))throw new Error("No "+e);return y[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var p,d,m,h,y={},_={},g={},v={},b=Object.prototype.hasOwnProperty,x=[].slice,k=/\.js$/;m=function(e,t){var n,r=s(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=u(i)),i?e=n&&n.normalize?n.normalize(e,f(t)):o(e,t):(e=o(e,t),r=s(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},h={require:function(e){return a(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:c(e)}}},p=function(e,t,n,o){var f,s,c,p,d,g,b=[],x=typeof n;if(o=o||e,"undefined"===x||"function"===x){for(t=!t.length&&n.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(p=m(t[d],o),s=p.f,"require"===s)b[d]=h.require(e);else if("exports"===s)b[d]=h.exports(e),g=!0;else if("module"===s)f=b[d]=h.module(e);else if(i(y,s)||i(_,s)||i(v,s))b[d]=u(s);else{if(!p.p)throw new Error(e+" missing "+s);p.p.load(p.n,a(o,!0),l(s),{}),b[d]=y[s]}c=n?n.apply(y[e],b):void 0,e&&(f&&f.exports!==r&&f.exports!==y[e]?y[e]=f.exports:c===r&&g||(y[e]=c))}else e&&(y[e]=n)},e=t=d=function(e,t,n,i,o){if("string"==typeof e)return h[e]?h[e](t):u(m(e,t).f);if(!e.splice){if(g=e,g.deps&&d(g.deps,g.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),d},d.config=function(e){return d(e)},e._defined=y,n=function(e,t,n){t.splice||(n=t,t=[]),i(y,e)||i(_,e)||(_[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../bower_components/almond/almond",function(){});var r,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=function(){function e(){}return e.prototype.initialize=function(e){return null==e&&(e={identify:{form_selector:"form",property_map:{username:/.*username.*/,name:/.*name.*/,first_name:/.*first.*name.*/,last_name:/.*last.*name.*/,email:/.*email.*/,position:/.*position.*/,company:/.*company.*/,organization:/.*organi(z|s)ation.*/,industry:/.*industry.*/,location:/.*location.*/,latlng:/.*latl(ng|on).*/,birthday:/.*(birthday|dob|date.*of.*birth).*/},has_any_fields:["username","name","first_name","last_name","email"],has_all_fields:[]}}),this.form_selector=e.identify.form_selector,this.property_map=e.identify.property_map,this.has_any_fields=e.identify.has_any_fields,this.has_all_fields=e.identify.has_all_fields,this.create_hooks()},e.prototype.create_hooks=function(){var e,t,n,r,i;for(e=document.body||document.getElementByTagName("body")[0],e.setAttribute("data-automagic",""),i=document.querySelectorAll(this.form_selector),n=0,r=i.length;r>n;n++)t=i[n],this.hook(t);return this},e.prototype.hook=function(e){var t;return t=this,$(e).on("submit",function(e){var n,r,o,a,f;return e.preventDefault(),a=e.target,o=t.extract_data(a),alert("hi"),n=function(){var e,n,r,a;for(r=t.has_all_fields,a=[],e=0,n=r.length;n>e;e++)f=r[e],i.call(o,f)>=0&&a.push(f);return a}().size===t.has_all_fields.size,r=function(){var e,n,r,a;for(r=t.has_any_fields,a=[],e=0,n=r.length;n>e;e++)f=r[e],i.call(o,f)>=0&&a.push(f);return a}().size>=1})},e.prototype.extract_data=function(e){var t,n,r,i,o,a,f,l,u,s;for(t={},u=e.querySelectorAll("input, textarea"),f=0,l=u.length;l>f;f++){n=u[f],i=n.name,a=n.value,s=this.property_map;for(r in s)o=s[r],o.test(i)&&(t[r]=a)}return t},e}(),window.Automagic=r,n("trak.automagic",function(){}),t(["trak.automagic"])}();